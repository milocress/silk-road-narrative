<!doctype html>
<html lang="en">
    <head>
        <title>Narrative</title>
        <!-- 2017-12-20 Wed 14:21 -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="generator" content="Org-mode">
        <meta name="author" content="Milo Cress">

        <link  href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.113, 4
.3/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.5/js/bootstrap.min.js"></script>
        <style type="text/css">
            /* org mode styles on top of twbs */

            html {
            position: relative;
            min-height: 100%;
            }

            body {
            font-size: 18px;
            margin-bottom: 105px;
            }

            footer {
            position: absolute;
            bottom: 0;
            width: 100%;
            height: 101px;
            background-color: #f5f5f5;
            }

            footer > div {
            padding: 10px;
            }

            footer p {
            margin: 0 0 5px;
            text-align: center;
            font-sizAs customers started to trickle into Ross's dark net market, Ross realized that for it to become the revolution he hoped it to be, he needed to create for himself a leader. The persona he created, he modeled after the movie character, the Dread Pirate Roberts, in part to add a sense of the exotic, and in part to form the basis of his legal defense â€“ in the movie The Princess Bride, the Dread Pirate Roberts was never one person, but rather a title passed on from master to worthy apprentice. What he created transended plausible deniability. The Dread Pirate Roberts (DPR) created became an emblem of rebellion against the government, turned buying drugs and illicit goods from a deplorable act of desperation to an honorable declaration of freedom. This charisma was Ulbricht's greatest weapon, but the inflated ego that came with it would prove his downfall.

         e: 16px;
            }

         #table-of-contents {
             margin-top: 20px;
             margin-bottom: 20px;
         }

         blockquote p {
             font-size: 18px;
         }

         pre {
             font-size: 16px;
         }

         .footpara {
             display: inline-block;
         }

         figcaption {
             font-size: 16px;
             color: #666;
             font-style: italic;
             padding-bottom: 15px;
         }

         /* from twbs docs */

         .bs-docs-sidebar.affix {
             position: static;
         }
         @media (min-width: 768px) {
             .bs-docs-sidebar {
                 padding-left: 20px;
             }
         }

         /* All levels of nav */
         .bs-docs-sidebar .nav > li > a {
             display: block;
             padding: 4px 20px;
             font-size: 14px;
             font-weight: 500;
             color: #999;
         }
         .bs-docs-sidebar .nav > li > a:hover,
         .bs-docs-sidebar .nav > li > a:focus {
             padding-left: 19px;
             color: #A1283B;
             text-decoration: none;
             background-color: transparent;
             border-left: 1px solid #A1283B;
         }
         .bs-docs-sidebar .nav > .active > a,
         .bs-docs-sidebar .nav > .active:hover > a,
         .bs-docs-sidebar .nav > .active:focus > a {
             padding-left: 18px;
             font-weight: bold;
             color: #A1283B;
             background-color: transparent;
             border-left: 2px solid #A1283B;
         }

         /* Nav: second level (shown on .active) */
         .bs-docs-sidebar .nav .nav {
             display: none; /* Hide by default, but at >768px, show it */
             padding-bottom: 10px;
         }
         .bs-docs-sidebar .nav .nav > li > a {
             padding-top: 1px;
             padding-bottom: 1px;
             padding-left: 30px;
             font-size: 12px;
             font-weight: normal;
         }
         .bs-docs-sidebar .nav .nav > li > a:hover,
         .bs-docs-sidebar .nav .nav > li > a:focus {
             padding-left: 29px;
         }
         .bs-docs-sidebar .nav .nav > .active > a,
         .bs-docs-sidebar .nav .nav > .active:hover > a,
         .bs-docs-sidebar .nav .nav > .active:focus > a {
             padding-left: 28px;
             font-weight: 500;
         }

         /* Nav: third level (shown on .active) */
         .bs-docs-sidebar .nav .nav .nav {
             padding-bottom: 10px;
         }
         .bs-docs-sidebar .nav .nav .nav > li > a {
             padding-top: 1px;
             padding-bottom: 1px;
             padding-left: 40px;
             font-size: 12px;
             font-weight: normal;
         }
         .bs-docs-sidebar .nav .nav .nav > li > a:hover,
         .bs-docs-sidebar .nav .nav .nav > li > a:focus {
             padding-left: 39px;
         }
         .bs-docs-sidebar .nav .nav .nav > .active > a,
         .bs-docs-sidebar .nav .nav .nav > .active:hover > a,
         .bs-docs-sidebar .nav .nav .nav > .active:focus > a {
             padding-left: 38px;
             font-weight: 500;
         }

         /* Show and affix the side nav when space allows it */
         @media (min-width: 992px) {
             .bs-docs-sidebar .nav > .active > ul {
                 display: block;
             }
             /* Widen the fixed sidebar */
             .bs-docs-sidebar.affix,
             .bs-docs-sidebar.affix-bottom {
                 width: 213px;
             }
             .bs-docs-sidebar.affix {
                 position: fixed; /* Undo the static from mobile first approach */
                 top: 20px;
             }
             .bs-docs-sidebar.affix-bottom {
                 position: absolute; /* Undo the static from mobile first approach */
             }
             .bs-docs-sidebar.affix .bs-docs-sidenav,.bs-docs-sidebar.affix-bottom .bs-docs-sidenav {
                 margin-top: 0;
                 margin-bottom: 0
             }
         }
         @media (min-width: 1200px) {
             /* Widen the fixed sidebar again */
             .bs-docs-sidebar.affix-bottom,
             .bs-docs-sidebar.affix {
                 width: 263px;
             }
         }
        </style>
        <script type="text/javascript">
         $(function() {
             'use strict';

             $('.bs-docs-sidebar li').first().addClass('active');

             $(document.body).scrollspy({target: '.bs-docs-sidebar'});

             $('.bs-docs-sidebar').affix();
         });
        </script>
    </head>
<body>
    <div id="content" class="container">
        <div class="row"><div class="col-md-9"><h1 class="title">The Story of the Dread Pirate Roberts</h1>
                <div id="outline-container-sec-5" class="outline-2">
                    <h2 id="sec-5"><span class="section-number-2">5</span> Ulbricht's first mistake: Frosty stack exchange article</h2>
                    <div class="outline-text-2" id="text-5">
                        <p>
                            It was in 2013 that Ross made his first really big mistake. On the internet technology forum, Stack Overflow, he posted a question regarding his dark net market. 
                        </p>

                        <blockquote>
                            <p>
                                I'm trying to connect to a Tor hidden service using the following PHP code:
                            </p>

                            <div class="org-src-container">

                                <pre class="src src-php"><span style="color: #b2b2b2; background-color: #292b2e;">$</span><span style="color: #7590db;">url</span> = <span style="color: #2d9574;">'http://jhiwjjlqpyawmpjx.onion/'</span>
                                    <span style="color: #b2b2b2; background-color: #292b2e;">$</span><span style="color: #7590db;">ch</span> = curl_init<span style="color: #4f97d7;">()</span>;
curl_setopt<span style="color: #4f97d7;">(</span><span style="color: #b2b2b2; background-color: #292b2e;">$</span><span style="color: #7590db;">ch</span>, <span style="color: #a45bad;">CURLOPT_URL</span>, <span style="color: #b2b2b2; background-color: #292b2e;">$</span><span style="color: #7590db;">url</span><span style="color: #4f97d7;">)</span>;
curl_setopt<span style="color: #4f97d7;">(</span><span style="color: #b2b2b2; background-color: #292b2e;">$</span><span style="color: #7590db;">ch</span>, <span style="color: #a45bad;">CURLOPT_RETURNTRANSFER</span>, <span style="color: #a45bad;">true</span><span style="color: #4f97d7;">)</span>;
curl_setopt<span style="color: #4f97d7;">(</span><span style="color: #b2b2b2; background-color: #292b2e;">$</span><span style="color: #7590db;">ch</span>, <span style="color: #a45bad;">CURLOPT_PROXY</span>, <span style="color: #2d9574;">"http://127.0.0.1:9050/"</span><span style="color: #4f97d7;">)</span>;
curl_setopt<span style="color: #4f97d7;">(</span><span style="color: #b2b2b2; background-color: #292b2e;">$</span><span style="color: #7590db;">ch</span>, <span style="color: #a45bad;">CURLOPT_PROXYTYPE</span>, <span style="color: #a45bad;">CURLPROXY_SOCKS5</span><span style="color: #4f97d7;">)</span>;
                                    <span style="color: #b2b2b2; background-color: #292b2e;">$</span><span style="color: #7590db;">output</span> = curl_exec<span style="color: #4f97d7;">(</span><span style="color: #b2b2b2; background-color: #292b2e;">$</span><span style="color: #7590db;">ch</span><span style="color: #4f97d7;">)</span>;
                                    <span style="color: #b2b2b2; background-color: #292b2e;">$</span><span style="color: #7590db;">curl_error</span> = curl_error<span style="color: #4f97d7;">(</span><span style="color: #b2b2b2; background-color: #292b2e;">$</span><span style="color: #7590db;">ch</span><span style="color: #4f97d7;">)</span>;
curl_close<span style="color: #4f97d7;">(</span><span style="color: #b2b2b2; background-color: #292b2e;">$</span><span style="color: #7590db;">ch</span><span style="color: #4f97d7;">)</span>;

print_r<span style="color: #4f97d7;">(</span><span style="color: #b2b2b2; background-color: #292b2e;">$</span><span style="color: #7590db;">output</span><span style="color: #4f97d7;">)</span>;
print_r<span style="color: #4f97d7;">(</span><span style="color: #b2b2b2; background-color: #292b2e;">$</span><span style="color: #7590db;">curl_error</span><span style="color: #4f97d7;">)</span>;
                                </pre>
                            </div>


                            <p>
                                When I run it, I get the following error:
                            </p>

                            <pre class="example">
Couldn't resolve host name
                            </pre>

                            <p>
                                However, when I run the following command from my command line in Ubuntu:
                            </p>

                            <div class="org-src-container">

                                <pre class="src src-shell">curl -v --socks5-hostname localhost:9050 http://jhiwjjlqpyawmpjx.onion
                                </pre>
                            </div>

                            <p>
                                I get a response as expected
                            </p>

                            <p>
                                The PHP cURL documentations says this:
                            </p>

                            <pre class="example">
--socks5-hostname
Use  the  specified  SOCKS5 proxy (and let the proxy resolve the host name).
                            </pre>
                            <p>
                                I believe the reason it works from the command line is because Tor (the proxy) is resolving the .onion hostname, which it recognizes. When running the PHP code above, my guess is that cURL or PHP is trying to resolve the .onion hostname and doesn't recognize it. I've searched for a way to tell cURL/PHP to let the proxy resolve the hostname, but I can't find a way.
                            </p>
                        </blockquote>

                        <p>
                            The trouble was, he slipped up, and used his personal email to sign up for his account.
                        </p>
                    </div>
                </div>
<div id="outline-container-sec-6" class="outline-2">
    <h2 id="sec-6"><span class="section-number-2">6</span> Ross Goes to the Dark Side</h2>
    <div class="outline-text-2" id="text-6">
        <p>
            Ross was starting to take a dark turn in his life. Business could not have been better, and yet the ardor of fighting off hackers, and the omnipresent paranoia were starting to take a toll on him. 
        </p>

        <p>
            His business associates, his friends, were being taken down by the authorities, one by one. Each one took with them a vital piece of the Silk Road's infrastructure. One of his lieutenants was embezzling Silk Road funds. The stress overcame him. He needed some outlet for his frustration, some sense of relief from his omnipresent guilt. 
        </p>

        <p>
            So, he decided to deal with the one problem he could handle, using the system that he himself had built. He would kill the thief. He messaged one of his associates, Nob, a drug dealer and gangster in the area, and told him that he had a situation that required violence to resolve. What he didn't know was that Nob was not a gangster, or even a drug dealer. His name was Carl Force, and he was a DEA agent, tasked with infiltrating Ulbricht's network. Rather than expose himself as an agent, he chose to play along with the ruse. Luckily for force, the thief had been taken into custody only a few days before, and was more than cooperative with the police. So, Force doused him in tomato sauce and framed the scene to appear as a bloody homocide. Ross was seemingly convinced by the photos that Force sent, and sent him $80,000 in bitcoin.
        </p>

        <p>
            A part of Ross knew that it was only a matter of time before he would be taken down too. But that voice of hesitance was being drowned out by his ego. He could not have achieved what he had without it. But he could not escape from the prison he had built himself without admitting that somewhere, someone was capable of finding him. This thought, in itself, was unbearable. So, day after day, he forced himself to believe that his system was secure against attackers, even when security advisers he trusted warned him of potential flaws. His system was not secure. A joint law enforcement operation had managed to hack his servers, and view the logs of his correspondence with other criminals on the network. As it turned out, he had commissioned another hit, this time on a blackmailer who claimed to have Ulbricht's identity. Ross had fallen from a radical idealist who had spoken out against the use of the dark web as a tool for harm to a hardened kingpin, set on doing anything that would keep him from facing justice.
        </p>
    </div>
</div>
        </div><div class="col-md-3"><nav id="table-of-contents">
            <div id="text-table-of-contents" class="bs-docs-sidebar">
                <ul class="nav">
                    <li><a href="./narrative-1.html#sec-1">1. Prologue</a></li>
                    <li><a href="./narrative-1.html#sec-2">2. Dark Web Intro</a></li>
                    <li><a href="./narrative-2.html#sec-3">3. The Silk Road's beginnings</a></li>
                    <li><a href="./narrative-2.html#sec-4">4. The birth of the Dread Pirate Roberts</a></li>
                    <li><a href="./narrative-3.html#sec-5">5. Ulbricht's first mistake: Frosty stack exchange article</a></li>
                    <li><a href="./narrative-3.html#sec-6">6. Ross Goes to the Dark Side</a></li>
                    <li><a href="./narrative-4.html#sec-7">7. Closing the loop</a></li>
                </ul>
            </div>
        </nav>
        </div></div></div>
        <footer id="postamble" class="">
            <div><p class="date">Date: <span class="timestamp-wrapper"><span class="timestamp">&lt;2017-12-07 Thu&gt;</span></span> \today</p>
                <p class="author">Author: Milo Cress</p>
                <p class="date">Created: 2017-12-20 Wed 14:47</p>
            </div>
        </footer>
</body>
